"use strict";require(["../js/config.js"],function(){require(["jquery"],function(s){s(function(){s(".form_item").each(function(){s(this).find("input").focus(function(){s(this).siblings("label").show(),s(this).siblings(".prompt").show()})}),s("#iphone").blur(function(){var t=s(".iphone-error"),a=s("#iphone").val();0==/^1[345678]\d{9}$/.test(a)?(t.css("background","#fff4d7").text("请输入正确的手机号码"),t.attr("data-val","0")):(t.css("background","#e4e4e4").text("输入正确"),t.attr("data-val","1"))}),s(".get-code").click(function(){var t=""+Math.floor(10*Math.random())+Math.floor(10*Math.random())+Math.floor(10*Math.random())+Math.floor(10*Math.random());s(".messge-error").css("display","block").html(t),s("#messge").blur(function(){var t=s("#messge").val();t==s(".messge-error").text()&&""!=s(".messge-error").text()?(s(".messge-error").text("输入正确"),s(".messge-error").attr("data-val","1")):(s(".messge-error").text("输入错误"),s(".messge-error").attr("data-val","0"))})}),s("#setpassWord").blur(function(){var t=s(".set-password "),a=s("#setpassWord").val();a.length<6||10<a.length?(t.css("background","#fff4d7").text("请输入6-10位密码"),t.attr("data-val","0")):/^[0-9]+$/.test(a)||/^[a-zA-Z]+$/.test(a)?(t.css("background","#fff4d7").text("密码应包含字母和数字"),t.attr("data-val","0")):(t.css("background","#e4e4e4").text("格式正确"),t.attr("data-val","1"))}),s("#affirmpassWord").blur(function(){var t=s(".affirm-password"),a=s("#setpassWord").val(),r=s("#affirmpassWord").val();r==a?(t.css("background","#e4e4e4").text("输入成功"),t.attr("data-val","1")):(t.css("background","#fff4d7").text("两次输入密码不匹配"),t.attr("data-val","0"))}),s(".register-btn").click(function(){var a=s("#userName").val(),t=s("#setpassWord").val();if(0==s(".register").find(".err-bar").attr("data-val"))alert("请按要求输入信息");else{var r=JSON.parse(localStorage.getItem("idarr"));if(r){r.some(function(t){return t.username==a})?alert("注用户名已存在"):(r.push({username:a,password:t}),localStorage.setItem("idarr",JSON.stringify(r)),console.log(localStorage.getItem("idarr")),s(location).attr("href","index.html"),alert("注册成功"))}else{var e=[];e.push({username:a,password:t}),localStorage.setItem("idarr",JSON.stringify(e)),console.log(localStorage.getItem("idarr")),alert("注册成功"),s(location).attr("href","index.html")}}})}),s("#userName").blur(function(){var t,a;t=s(".user-error"),(a=s("#userName").val()).length<4||16<a.length?(t.css("background","#fff4d7").text("请输入4到16位用户名"),t.attr("data-val","0")):0==/^[0-9a-zA-Z_\u2E80-\u9FFF]{4,16}$/.test(a)?(t.css("background","#fff4d7").text("用户名可以是数字,下划线,字母,汉字"),t.attr("data-val","0")):(t.css("background","#e4e4e4").text("输入正确"),t.attr("data-val","1"))})})});